{% extends 'base.html' %}


{% block body_id %}test-simulation{% endblock %}
{% block page_title %}Test Simulation: {{ simulation_name }}{% endblock %}


{% block content %}

<div class="page-section forms">
  <form method="GET" action="">
    Number of seats:
    <input name="num_seats" value="{{ num_seats }}"></input>

    Initial population size:
    <input name="population_size" value="{{ population_size }}"></input>

    Number of generations:
    <input name="num_generations" value="{{ num_generations }}"></input>

    <button type="submit">Submit</button>
  </form>
</div>

<div class="page-section">
  <svg width="1200" height="600"></svg>
</div>

<script charset="utf-8">
  var initialState = {{ initial_state|safe }};
  drawSeats(initialState);

  var changes = {{ changes|safe }};
  for (var i = 0; i < changes.length; i++) {
    updateSeats(changes[i], i);
  }
</script>

<div class="page-section three-columns">
  <div class="column">
    <span>Initial state</span>

    {% with show_initial = True %}
    {% include 'table_snapshot.html' %}
    {% endwith %}
  </div>

  <div class="column generations">
    <span>... after {{ num_generations }} generations ...</span>
  </div>

  <div class="column">
    <span>Final state</span>

    {% include 'table_snapshot.html' %}
  </div>
</div>

<div class="page-section">
  {% for seat in table.get_all_seats() %}
    {{ seat }} currently interacts with {{ seat.get_next_interactor() }}
    <br>

  {% endfor %}
</div>

{% endblock %}
